import{u as z,y as G,a as q,A as $,m as _,b as ee,l as te,s as le,n as oe,o as ae,e as ne,c as se,h as re,r as E,d as ue,H as ie,x as j,f as ce}from"./app-3eeb45b8.js";import{r as b,h as D,c as de,u as ve,ab as fe,o as pe,I as he,j as u,a5 as N,z as ye,K as ge,i as we}from"./framework-8980b429.js";function me(t){if(Array.isArray(t)){for(var e=0,l=Array(t.length);e<t.length;e++)l[e]=t[e];return l}else return Array.from(t)}var H=!1;if(typeof window<"u"){var I={get passive(){H=!0}};window.addEventListener("testPassive",null,I),window.removeEventListener("testPassive",null,I)}var U=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1),m=[],A=!1,R=-1,S=void 0,Q=void 0,W=function(e){return m.some(function(l){return!!(l.options.allowTouchMove&&l.options.allowTouchMove(e))})},L=function(e){var l=e||window.event;return W(l.target)||l.touches.length>1?!0:(l.preventDefault&&l.preventDefault(),!1)},be=function(e){if(Q===void 0){var l=!!e&&e.reserveScrollBarGap===!0,o=window.innerWidth-document.documentElement.clientWidth;l&&o>0&&(Q=document.body.style.paddingRight,document.body.style.paddingRight=o+"px")}S===void 0&&(S=document.body.style.overflow,document.body.style.overflow="hidden")},Se=function(){Q!==void 0&&(document.body.style.paddingRight=Q,Q=void 0),S!==void 0&&(document.body.style.overflow=S,S=void 0)},Qe=function(e){return e?e.scrollHeight-e.scrollTop<=e.clientHeight:!1},ke=function(e,l){var o=e.targetTouches[0].clientY-R;return W(e.target)?!1:l&&l.scrollTop===0&&o>0||Qe(l)&&o<0?L(e):(e.stopPropagation(),!0)},xe=function(e,l){if(!e){console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");return}if(!m.some(function(a){return a.targetElement===e})){var o={targetElement:e,options:l||{}};m=[].concat(me(m),[o]),U?(e.ontouchstart=function(a){a.targetTouches.length===1&&(R=a.targetTouches[0].clientY)},e.ontouchmove=function(a){a.targetTouches.length===1&&ke(a,e)},A||(document.addEventListener("touchmove",L,H?{passive:!1}:void 0),A=!0)):be(l)}},De=function(){U?(m.forEach(function(e){e.targetElement.ontouchstart=null,e.targetElement.ontouchmove=null}),A&&(document.removeEventListener("touchmove",L,H?{passive:!1}:void 0),A=!1),R=-1):Se(),m=[]};const Ae="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",Le="search-pro-history-results",g=z(Le,[]),Me=()=>({history:g,addHistory:t=>{g.value.length<E?g.value=[t,...g.value]:g.value=[t,...g.value.slice(0,E-1)]},removeHistory:t=>{g.value=[...g.value.slice(0,t),...g.value.slice(t+1)]}}),Pe=b(Ae),Ce=D(()=>JSON.parse(G(Pe.value))),x=(t,e)=>{const l=t.toLowerCase(),o=e.toLowerCase(),a=[];let s=0,v=0;const f=(n,p=!1)=>{let r="";v===0?r=n.length>20?`… ${n.slice(-20)}`:n:p?r=n.length+v>100?`${n.slice(0,100-v)}… `:n:r=n.length>20?`${n.slice(0,20)} … ${n.slice(-20)}`:n,r&&a.push(r),v+=r.length,p||(a.push(["strong",e]),v+=e.length,v>=100&&a.push(" …"))};let h=l.indexOf(o,s);if(h===-1)return null;for(;h>=0;){const n=h+o.length;if(f(t.slice(s,h)),s=n,v>100)break;h=l.indexOf(o,s)}return v<100&&f(t.slice(s),!0),a},F=t=>t.reduce((e,{type:l})=>e+(l==="title"?50:l==="heading"?20:l==="custom"?10:1),0),He=(t,e)=>{var l;const o={};for(const[a,s]of j(e)){const v=((l=e[a.replace(/\/[^\\]*$/,"")])==null?void 0:l.title)||"",f=`${v?`${v} > `:""}${s.title}`,h=x(s.title,t);h&&(o[f]=[...o[f]||[],{type:"title",path:a,display:h}]),s.customFields&&j(s.customFields).forEach(([n,p])=>{p.forEach(r=>{const i=x(r,t);i&&(o[f]=[...o[f]||[],{type:"custom",path:a,index:n,display:i}])})});for(const n of s.contents){const p=x(n.header,t);p&&(o[f]=[...o[f]||[],{type:"heading",path:a+(n.slug?`#${n.slug}`:""),display:p}]);for(const r of n.contents){const i=x(r,t);i&&(o[f]=[...o[f]||[],{type:"content",header:n.header,path:a+(n.slug?`#${n.slug}`:""),display:i}])}}}return ce(o).sort((a,s)=>F(o[a])-F(o[s])).map(a=>({title:a,contents:o[a]}))},Re=t=>{const e=q(),l=b([]),o=D(()=>Ce.value[e.value]),a=ue(s=>{l.value=s?He(s,o.value):[]},ie);return ye([t,e],()=>{a(t.value)}),l};var Oe=de({name:"SearchResult",props:{query:{type:String,required:!0}},emits:{close:()=>!0,updateQuery:t=>!0},setup(t,{emit:e}){const l=se(),o=ve(),a=q(),s=$(_),{history:v,addHistory:f,removeHistory:h}=Me(),n=fe(t,"query"),p=Re(n),r=b(0),i=b(0),J=b(),M=D(()=>p.value.length>0),P=D(()=>p.value[r.value]||null),T=()=>{r.value=r.value>0?r.value-1:p.value.length-1,i.value=P.value.contents.length-1},Z=()=>{r.value=r.value<p.value.length-1?r.value+1:0,i.value=0},X=()=>{i.value<P.value.contents.length-1?i.value=i.value+1:Z()},K=()=>{i.value>0?i.value=i.value-1:T()},B=c=>c.map(d=>we(d)?d:u(d[0],d[1])),O=c=>{if(c.type==="custom"){const d=re[c.index]||"$content",[w,k=""]=ge(d)?d[a.value].split("$content"):d.split("$content");return B([w,...c.display,k])}return B(c.display)},C=()=>{r.value=0,i.value=0,e("updateQuery",""),e("close")};return pe(()=>{ee("keydown",c=>{if(M.value){if(c.key==="ArrowUp")K();else if(c.key==="ArrowDown")X();else if(c.key==="Enter"){const d=P.value.contents[i.value];l.value.path!==d.path&&(f(d),o.push(d.path),C())}}}),xe(J.value,{reserveScrollBarGap:!0})}),he(()=>{De()}),()=>u("div",{class:["search-pro-result",{empty:n.value===""?v.value.length===0:!M.value}],ref:J},n.value===""?v.value.length?u("ul",{class:"search-pro-result-list"},u("li",{class:"search-pro-result-list-item"},[u("div",{class:"search-pro-result-title"},s.value.history),v.value.map((c,d)=>u(N,{to:c.path,class:["search-pro-result-item",{active:i.value===d}],onClick:()=>{C()}},()=>[u(te,{class:"search-pro-result-type"}),u("div",{class:"search-pro-result-content"},[c.type==="content"&&c.header?u("div",{class:"content-header"},c.header):null,u("div",O(c))]),u("button",{class:"search-pro-close-icon",onClick:w=>{w.preventDefault(),w.stopPropagation(),h(d)}},u(le))]))])):s.value.emptyHistory:M.value?u("ul",{class:"search-pro-result-list"},p.value.map(({title:c,contents:d},w)=>{const k=r.value===w;return u("li",{class:["search-pro-result-list-item",{active:k}]},[u("div",{class:"search-pro-result-title"},c||"Documentation"),d.map((y,V)=>{const Y=k&&i.value===V;return u(N,{to:y.path,class:["search-pro-result-item",{active:Y,"aria-selected":Y}],onClick:()=>{f(y),C()}},()=>[y.type==="content"?null:u(y.type==="title"?oe:y.type==="heading"?ae:ne,{class:"search-pro-result-type"}),u("div",{class:"search-pro-result-content"},[y.type==="content"&&y.header?u("div",{class:"content-header"},y.header):null,u("div",O(y))])])})])})):s.value.emptyResult)}});export{Oe as default};

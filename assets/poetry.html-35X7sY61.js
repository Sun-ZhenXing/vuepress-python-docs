import{_ as c,r as o,o as r,c as i,b as s,a as n,w as e,d as a,e as p}from"./app-VcvQJWSe.js";const D={},y=s("h1",{id:"poetry",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#poetry","aria-hidden":"true"},"#"),a(" Poetry")],-1),d={class:"table-of-contents"},u=p(`<h2 id="1-poetry-简介" tabindex="-1"><a class="header-anchor" href="#1-poetry-简介" aria-hidden="true">#</a> 1. Poetry 简介</h2><p>Poetry 是一款用于 Python 依赖性管理和打包的工具。它允许你声明项目依赖的库，并为你管理（安装/更新）它们。Poetry 提供一个锁文件，以确保可重复安装，并可构建项目以供发布。</p><p>Poetry 需要 Python 3.8 以上版本。它是多平台的，目标是让它在 Linux、MacOS 和 Windows 上同样运行良好。</p><p>推荐使用 <code>pipx</code> 安装：</p><div class="language-bash" data-ext="sh"><pre class="shiki dark-plus" style="background-color:#1E1E1E;" tabindex="0"><code><span class="line"><span style="color:#DCDCAA;">pipx</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">install</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">poetry</span></span>
<span class="line"></span></code></pre></div><p>如果你没有安装 <code>pipx</code>，可以使用 <code>pip</code> 安装 <code>pipx</code>：</p><div class="language-bash" data-ext="sh"><pre class="shiki dark-plus" style="background-color:#1E1E1E;" tabindex="0"><code><span class="line"><span style="color:#DCDCAA;">pip</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">install</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">pipx</span></span>
<span class="line"></span></code></pre></div><p>对于 Linux 或 MacOS 系统，可以使用官方命令安装：</p><div class="language-bash" data-ext="sh"><pre class="shiki dark-plus" style="background-color:#1E1E1E;" tabindex="0"><code><span class="line"><span style="color:#DCDCAA;">curl</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">-sSL</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">https://install.python-poetry.org</span><span style="color:#D4D4D4;"> | </span><span style="color:#DCDCAA;">python</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">-</span></span>
<span class="line"></span></code></pre></div><p>对于 Windows 则可以使用 PowerShell 安装：</p><div class="language-powershell" data-ext="powershell"><pre class="shiki dark-plus" style="background-color:#1E1E1E;" tabindex="0"><code><span class="line"><span style="color:#D4D4D4;">(</span><span style="color:#DCDCAA;">Invoke-WebRequest</span><span style="color:#D4D4D4;"> -Uri https://install.python-poetry.org -UseBasicParsing).Content | python -</span></span>
<span class="line"></span></code></pre></div><p>这种方法需要手动添加路径：</p><ul><li>MacOS：<code>~/Library/Application Support/pypoetry</code></li><li>Linux/Unix：<code>~/.local/share/pypoetry</code></li><li>Windows：<code>%APPDATA%\\pypoetry</code></li></ul><h2 id="2-poetry-基本使用" tabindex="-1"><a class="header-anchor" href="#2-poetry-基本使用" aria-hidden="true">#</a> 2. Poetry 基本使用</h2><p>查看命令的使用方式：</p><div class="language-bash" data-ext="sh"><pre class="shiki dark-plus" style="background-color:#1E1E1E;" tabindex="0"><code><span class="line"><span style="color:#DCDCAA;">poetry</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">list</span></span>
<span class="line"></span></code></pre></div><p>创建项目：</p><div class="language-bash" data-ext="sh"><pre class="shiki dark-plus" style="background-color:#1E1E1E;" tabindex="0"><code><span class="line"><span style="color:#DCDCAA;">poetry</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">new</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">poetry-demo</span></span>
<span class="line"></span></code></pre></div><p>这将生成如下目录：</p><div class="language-console" data-ext="console"><pre class="shiki dark-plus" style="background-color:#1E1E1E;" tabindex="0"><code><span class="line"><span style="color:#D4D4D4;">poetry-demo</span></span>
<span class="line"><span style="color:#D4D4D4;">├── pyproject.toml</span></span>
<span class="line"><span style="color:#D4D4D4;">├── README.md</span></span>
<span class="line"><span style="color:#D4D4D4;">├── poetry_demo</span></span>
<span class="line"><span style="color:#D4D4D4;">│   └── __init__.py</span></span>
<span class="line"><span style="color:#D4D4D4;">└── tests</span></span>
<span class="line"><span style="color:#D4D4D4;">    └── __init__.py</span></span>
<span class="line"></span></code></pre></div><p>初始化项目：</p><div class="language-bash" data-ext="sh"><pre class="shiki dark-plus" style="background-color:#1E1E1E;" tabindex="0"><code><span class="line"><span style="color:#DCDCAA;">cd</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">pre-existing-project</span></span>
<span class="line"><span style="color:#DCDCAA;">poetry</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">init</span></span>
<span class="line"></span></code></pre></div><p>这总是可以配合虚拟环境使用。</p>`,23),h={href:"https://pre-commit.com/",target:"_blank",rel:"noopener noreferrer"},C=s("code",null,"pre-commit",-1),E=s("code",null,".pre-commit-config.yaml",-1),b=s("code",null,"pre-commit install",-1),v=p(`<div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="shiki dark-plus" style="background-color:#1E1E1E;" tabindex="0"><code><span class="line"><span style="color:#569CD6;">repos</span><span style="color:#D4D4D4;">:</span></span>
<span class="line"><span style="color:#D4D4D4;">-   </span><span style="color:#569CD6;">repo</span><span style="color:#D4D4D4;">: </span><span style="color:#CE9178;">https://github.com/python-poetry/poetry</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#569CD6;">rev</span><span style="color:#D4D4D4;">: </span><span style="color:#CE9178;">&#39;&#39;</span><span style="color:#D4D4D4;">  </span><span style="color:#6A9955;"># add version here</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#569CD6;">hooks</span><span style="color:#D4D4D4;">:</span></span>
<span class="line"><span style="color:#D4D4D4;">    -   </span><span style="color:#569CD6;">id</span><span style="color:#D4D4D4;">: </span><span style="color:#CE9178;">poetry-check</span></span>
<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#569CD6;">args</span><span style="color:#D4D4D4;">: [</span><span style="color:#CE9178;">&quot;-C&quot;</span><span style="color:#D4D4D4;">, </span><span style="color:#CE9178;">&quot;./subdirectory&quot;</span><span style="color:#D4D4D4;">]</span></span>
<span class="line"><span style="color:#D4D4D4;">    -   </span><span style="color:#569CD6;">id</span><span style="color:#D4D4D4;">: </span><span style="color:#CE9178;">poetry-lock</span></span>
<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#569CD6;">args</span><span style="color:#D4D4D4;">: [</span><span style="color:#CE9178;">&quot;-C&quot;</span><span style="color:#D4D4D4;">, </span><span style="color:#CE9178;">&quot;./subdirectory&quot;</span><span style="color:#D4D4D4;">]</span></span>
<span class="line"><span style="color:#D4D4D4;">    -   </span><span style="color:#569CD6;">id</span><span style="color:#D4D4D4;">: </span><span style="color:#CE9178;">poetry-export</span></span>
<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#569CD6;">args</span><span style="color:#D4D4D4;">: [</span><span style="color:#CE9178;">&quot;-C&quot;</span><span style="color:#D4D4D4;">, </span><span style="color:#CE9178;">&quot;./subdirectory&quot;</span><span style="color:#D4D4D4;">, </span><span style="color:#CE9178;">&quot;-f&quot;</span><span style="color:#D4D4D4;">, </span><span style="color:#CE9178;">&quot;requirements.txt&quot;</span><span style="color:#D4D4D4;">, </span><span style="color:#CE9178;">&quot;-o&quot;</span><span style="color:#D4D4D4;">, </span><span style="color:#CE9178;">&quot;./subdirectory/requirements.txt&quot;</span><span style="color:#D4D4D4;">]</span></span>
<span class="line"><span style="color:#D4D4D4;">    -   </span><span style="color:#569CD6;">id</span><span style="color:#D4D4D4;">: </span><span style="color:#CE9178;">poetry-install</span></span>
<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#569CD6;">args</span><span style="color:#D4D4D4;">: [</span><span style="color:#CE9178;">&quot;-C&quot;</span><span style="color:#D4D4D4;">, </span><span style="color:#CE9178;">&quot;./subdirectory&quot;</span><span style="color:#D4D4D4;">]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,1);function _(m,x){const l=o("router-link"),t=o("ExternalLinkIcon");return r(),i("div",null,[y,s("nav",d,[s("ul",null,[s("li",null,[n(l,{to:"#1-poetry-简介"},{default:e(()=>[a("1. Poetry 简介")]),_:1})]),s("li",null,[n(l,{to:"#2-poetry-基本使用"},{default:e(()=>[a("2. Poetry 基本使用")]),_:1})])])]),u,s("p",null,[a("Poetry 还可以配合 "),s("a",h,[C,n(t)]),a(" 使用，可以在项目中添加 "),E,a(" 文件，然后运行 "),b,a(" 安装钩子。")]),v])}const k=c(D,[["render",_],["__file","poetry.html.vue"]]);export{k as default};

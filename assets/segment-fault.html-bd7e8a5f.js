import{_ as n,r as s,o,c as l,b as e,a as c,w as r,d as a,e as d}from"./app-9f19ef42.js";const p={},h=e("h1",{id:"python-如何查找段错误-segment-fault",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#python-如何查找段错误-segment-fault","aria-hidden":"true"},"#"),a(" Python 如何查找段错误（Segment Fault）")],-1),i={class:"table-of-contents"},_=d(`<h2 id="_1-python-调试选项" tabindex="-1"><a class="header-anchor" href="#_1-python-调试选项" aria-hidden="true">#</a> 1. Python 调试选项</h2><p>问题背景：在开发 PySide6 程序时出现了闪退错误，Windows 上不显示任何内容崩溃，Mac OS 上出现段错误（内容已转储）。常规调试方法无法得出错误出现的位置，因为出错的位置不是在 Python 解释器执行时出现的，而是在执行外部扩展时出现的。</p><p>通过下面的方法成功定位到问题：发现是 <code>QThread</code> 线程中调用了 UI 功能导致的。PySide6 要求线程想修改或读取 UI 控件的内容必须借助信号通信。</p><p>总结：调试方法是，在执行 Python 时加上 <code>-X faulthandler</code> 选项，可以在程序出现 Segment Fault 时打印出调用栈。</p><div class="language-bash" data-ext="sh"><pre class="shiki dark-plus" style="background-color:#1E1E1E;" tabindex="0"><code><span class="line"><span style="color:#DCDCAA;">python</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">-X</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">faulthandler</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">test.py</span></span>
<span class="line"></span></code></pre></div>`,5);function u(y,f){const t=s("router-link");return o(),l("div",null,[h,e("nav",i,[e("ul",null,[e("li",null,[c(t,{to:"#_1-python-调试选项"},{default:r(()=>[a("1. Python 调试选项")]),_:1})])])]),_])}const D=n(p,[["render",u],["__file","segment-fault.html.vue"]]);export{D as default};
